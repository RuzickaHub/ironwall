/* styles.css */
/* Basic variables */
:root {
  --bg-dark: #0b1020;
  --bg-light: #f3f6fb;
  --card-dark: rgba(255,255,255,0.03);
  --card-light: #e6eef8;
  --text-dark: #e6eef8;
  --text-light: #0b1020;
  --neu-shadow: 18px 18px 36px rgba(2,6,23,0.55), -10px -8px 24px rgba(255,255,255,0.03);
}
html,body { height:100%; }
body { margin:0; font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; transition: background .25s ease, color .25s ease; }

/* Theme classes (JS toggles body.light / body.dark) */
body.dark { background: var(--bg-dark); color: var(--text-dark); }
body.dark .card { background: var(--card-dark); box-shadow: var(--neu-shadow); }
body.light { background: var(--bg-light); color: var(--text-light); }
body.light .card { background: var(--card-light); box-shadow: 12px 12px 24px rgba(163,177,198,0.4), -8px -6px 18px rgba(255,255,255,0.8); }

/* Custom: Skryje pozadí v režimu light */
body.light #bg-wrap { display: none; }

/* Background crossfade */
#bg-wrap { position:fixed; inset:0; z-index:-2; overflow:hidden; pointer-events:none; }
.bg-layer { position:absolute; inset:0; background-size:cover; background-position:center; filter: blur(28px) brightness(0.6) saturate(0.85); transform: scale(1.06); opacity:0; transition: opacity 1.2s ease-in-out, transform 8s ease-in-out; }
.bg-layer.show { opacity:1; transform: scale(1); }

/* Header / container */
header { backdrop-filter: blur(6px); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-bottom: 1px solid rgba(255,255,255,0.04); }
.container { max-width:1200px; margin:0 auto; padding:20px; }

/* Grid + thumbs */
.grid { display:grid; gap:18px; grid-template-columns: repeat(2,1fr); }
@media(min-width:640px){ .grid{ grid-template-columns: repeat(3,1fr); } }
@media(min-width:1024px){ .grid{ grid-template-columns: repeat(4,1fr); } }
@media(min-width:1280px){ .grid{ grid-template-columns: repeat(5,1fr); } }

.thumb { border-radius: 14px; overflow:hidden; transition: transform .28s cubic-bezier(.16,1,.3,1), box-shadow .28s; display:block; height:180px; position:relative; }
.thumb img { width:100%; height:100%; object-fit:cover; display:block; transform-origin:center; transition: transform .5s ease, opacity .45s ease; border-radius:10px; }
.thumb:hover { transform: translateY(-6px) scale(1.02); }

.thumb .meta { position:absolute; left:12px; bottom:10px; padding:6px 10px; border-radius:999px; background:rgba(0,0,0,0.36); color:#fff; font-size:12px; backdrop-filter: blur(6px); }

/* Modal */
#modal { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:60; opacity:0; pointer-events:none; transition:opacity .28s ease; }
#modal.show { opacity:1; pointer-events:auto; }
#modal-overlay { position:absolute; inset:0; background:rgba(2,6,23,0.45); backdrop-filter: blur(6px) saturate(0.9); }

#modal-body { position:relative; z-index:5; display:flex; align-items:center; justify-content:center; max-width:94vw; max-height:92vh; width:auto; height:auto; transition: width .25s ease, height .25s ease, transform .35s cubic-bezier(.16,1,.3,1); border-radius:18px; box-shadow: 0 30px 70px rgba(2,6,23,0.7); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02)); overflow:hidden; }

/* morph layers & spinner */
.morph-layer { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; opacity:0; transition: opacity .65s ease, filter .65s ease, transform .65s cubic-bezier(.16,1,.3,1); }
.morph-layer.show { opacity:1; }
.morph-layer img { max-width:100%; max-height:100%; object-fit:contain; border-radius:12px; user-select:none; -webkit-user-drag:none; }

.layer-spinner { position:absolute; width:72px; height:72px; border-radius:50%; display:grid; place-items:center; background:rgba(0,0,0,0.36); color:#fff; font-weight:700; opacity:0; transform:scale(.98); transition:opacity .18s ease, transform .18s ease; }
.layer-spinner.show { opacity:1; transform:scale(1); }

/* controls */
.ctrl { position:absolute; display:inline-grid; place-items:center; width:46px; height:46px; border-radius:999px; transition: transform .15s ease, background .15s; box-shadow: 6px 8px 18px rgba(2,6,23,0.45), -4px -3px 10px rgba(255,255,255,0.02); }
.ctrl:hover { transform:scale(1.06); cursor:pointer; }
#btn-close { top:16px; right:16px; }
#btn-prev { left:12px; top:50%; transform:translateY(-50%); }
#btn-next { right:12px; top:50%; transform:translateY(-50%); }
#btn-download { bottom:16px; right:24px; }

/* Upload modal (aggregated progress) */
#upload-modal { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:80; opacity:0; pointer-events:none; transition:opacity .18s ease; }
#upload-modal.show { opacity:1; pointer-events:auto; }
.upload-card { width: min(560px, 94vw); border-radius:14px; padding:18px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02)); box-shadow: var(--neu-shadow); display:flex; gap:12px; align-items:center; justify-content:space-between; }

/* aggregated circular progress */
.progress-wrap { width:108px; height:108px; display:grid; place-items:center; position:relative; }
.progress-svg { transform: rotate(-90deg); }
.progress-text { position:absolute; font-weight:700; font-size:16px; color:inherit; }

.toast { position:fixed; right:18px; bottom:18px; padding:10px 14px; border-radius:10px; background:rgba(0,0,0,0.7); color:#fff; z-index:90; }

.skeleton { background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.04)); height:160px; border-radius:12px; }

@media(max-width:768px){ .thumb { height:140px; } .upload-card { padding:14px; } .progress-wrap { width:78px; height:78px } }